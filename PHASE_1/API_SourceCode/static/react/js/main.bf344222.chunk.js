(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{131:function(e,t,a){"use strict";a.r(t);var n=a(0),l=a.n(n),r=a(22),c=a.n(r),s=(a(86),a(5)),i=a(6),o=a(10),u=a(8),p=a(11),m=a(32),h=a(29),d=a(65),f=a.n(d),y=(a(16),a(31)),g=a.n(y),v=function(){function e(){Object(s.a)(this,e),this.baseURL="https://epiproapp.appspot.com/"}return Object(i.a)(e,[{key:"getKeyTerms",value:function(e,t){g.a.get("".concat(this.baseURL,"api/v1/reports/key-terms/").concat(e)).then(function(e){t(null,e.data)}).catch(function(e){t(e,null)})}},{key:"getLocations",value:function(e){g.a.get("".concat(this.baseURL,"/api/v1/reports/locations/all")).then(function(t){e(null,t.data)}).catch(function(t){e(t,null)})}},{key:"getLocationsByKeyword",value:function(e,t){g.a.get("".concat(this.baseURL,"api/v1/reports/locations/").concat(e)).then(function(e){t(null,e.data)}).catch(function(e){t(e,null)})}},{key:"getAllReports",value:function(e){g.a.get("".concat(this.baseURL,"api/v1/reports/all")).then(function(t){e(null,t.data)}).catch(function(t){e(t,null)})}},{key:"getAPIdocURL",value:function(e){g.a.get("".concat(this.baseURL,"api/v1/doc-url")).then(function(t){e(null,t.data)}).catch(function(t){e(t,null)})}},{key:"getFiltedReports",value:function(e,t){var a=[];e.locations&&a.push("Location=".concat(e.locations)),e.keyterms&&a.push("Key-terms=".concat(e.keyterms)),e.start_date&&a.push("Start-date=".concat(e.start_date)),e.end_date&&a.push("End-date=".concat(e.start_date));var n="";if(a.length>1)n="".concat(this.baseURL,"api/v1/reports/filter?").concat(a[0]);else{var l=a.join("&");n="".concat(this.baseURL,"api/v1/reports/filter?").concat(l)}g.a.get(n).then(function(e){t(null,e.data)}).catch(function(e){t(e,null)})}}]),e}(),b=new v,E=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(o.a)(this,Object(u.a)(t).call(this,e))).state={api_doc_url:""},console.log(a.state,"constructor"),a}return Object(p.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){var e=this,t="";b.getAPIdocURL(function(a,n){if(a)if(a.response){var l=a.response.data.message;console.log(l,"ppp")}else console.log(a.message,"ppp");else t=n,console.log(t,"doc url in app tsx to set state"),e.setState({api_doc_url:t})})}},{key:"render",value:function(){return console.log("I am rendering",this.state),l.a.createElement("div",{className:"App"},l.a.createElement("div",{className:"bg"},l.a.createElement("header",{className:"App-header"},l.a.createElement("img",{src:f.a,className:"App-logo",alt:"logo"}),l.a.createElement("p",null,"EpiPro API"),l.a.createElement("p",null,"Predict. Prevent. Protect."),l.a.createElement("a",{href:this.state.api_doc_url},"EpiPro API Documentation"),l.a.createElement(m.b,{to:"/search"},"Search"))))}}]),t}(l.a.Component),O=a(36),j=a(136),x=a(138),A=a(132),k=a(137),C=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(o.a)(this,Object(u.a)(t).call(this,e))).state={title:""},a}return Object(p.a)(t,e),Object(i.a)(t,[{key:"handleChange",value:function(e){e.preventDefault(),this.setState({title:e.target.value}),this.props.updateTitle({title:e.target.value})}},{key:"render",value:function(){var e=this;return l.a.createElement(A.a,{className:"mb-3"},l.a.createElement(k.a,{placeholder:"Title search",type:"text",onChange:function(t){return e.handleChange(t)},value:this.state.title}),l.a.createElement(A.a.Append,null,l.a.createElement(j.a,null,"Search")))}}]),t}(l.a.Component),D=a(48),N=a(30),w=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(o.a)(this,Object(u.a)(t).call(this,e))).state={startDate:null,endDate:null,maxDate:new Date,minDate:null},a}return Object(p.a)(t,e),Object(i.a)(t,[{key:"handleChange",value:function(e,t){var a={};a[t]=e,console.log(e),this.setState(a),this.changeMinMaxDate(e,t),this.props.updateTime(a)}},{key:"changeMinMaxDate",value:function(e,t){var a={minDate:null,maxDate:new Date};Object(N.isNull)(e)||("startDate"==t?a.minDate=e:a.maxDate=e),this.setState(a)}},{key:"render",value:function(){var e=this;return l.a.createElement("div",{className:"Filter-element"},l.a.createElement("div",null,l.a.createElement("b",null,"Date Range")),l.a.createElement("div",{className:"Filter-inline-1"},l.a.createElement(D.a,{selected:this.state.startDate,selectsStart:!0,startDate:this.state.startDate,endDate:this.state.endDate,dateFormat:"dd/MM/yyyy",minDate:this.state.minDate,maxDate:this.state.maxDate,onChange:function(t){return e.handleChange(t,"startDate")},placeholderText:"Start Date"})),l.a.createElement("div",{className:"Time-between"},"to"),l.a.createElement("div",{className:"Filter-inline-2"},l.a.createElement(D.a,{selected:this.state.endDate,selectsEnd:!0,startDate:this.state.startDate,endDate:this.state.endDate,dateFormat:"dd/MM/yyyy",minDate:this.state.minDate,maxDate:new Date,onChange:function(t){return e.handleChange(t,"endDate")},placeholderText:"End Date"})))}}]),t}(l.a.Component),S=a(134),L=a(26),T=a(135),_=function(e){function t(e){return Object(s.a)(this,t),Object(o.a)(this,Object(u.a)(t).call(this,e))}return Object(p.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return l.a.createElement("div",null,l.a.createElement(m.b,{to:"/article",className:"link"},l.a.createElement(T.a,null,l.a.createElement("div",{className:"Card-hover"},l.a.createElement(T.a.Body,null,l.a.createElement(T.a.Title,{className:"Card-title"},l.a.createElement("h3",null,this.props.headline)),l.a.createElement(T.a.Subtitle,{className:"mb-2 text-muted"},l.a.createElement("i",null,this.props.url," \u2022 ",this.props.date_of_publication)),l.a.createElement(T.a.Text,null,this.props.main_text))))))}}]),t}(l.a.Component),F=function(e){function t(e){return Object(s.a)(this,t),Object(o.a)(this,Object(u.a)(t).call(this,e))}return Object(p.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return l.a.createElement(S.a,{variant:"flush"},l.a.createElement(S.a.Item,null,l.a.createElement(_,L)))}}]),t}(l.a.Component),R=a(37),M=a(74),P=new v,U=function(e){function t(e){var a;Object(s.a)(this,t),a=Object(o.a)(this,Object(u.a)(t).call(this,e));var n=M.map(function(e,t){return{label:e.city+", "+e.state+", "+e.country,value:t}});return console.log(n),a.state={values:[],filterOptions:n},a}return Object(p.a)(t,e),Object(i.a)(t,[{key:"handleChange",value:function(e){var t=e.map(function(e){return e.value});this.setState({values:t}),console.log({values:t}),this.props.updateLocation({locations:t})}},{key:"render",value:function(){var e,t=this;return P.getLocations(function(t,a){if(t)if(t.response){var n=t.response.data.message;console.log(n,"ppp")}else console.log(t.message,"ppp");e=a,console.log(e,"locations in Location tsx")}),l.a.createElement("div",{className:"Filter-element"},l.a.createElement("b",null,"Locations"),l.a.createElement(R.a,{isMulti:!0,options:this.state.filterOptions,className:"basic-multi-select",classNamePrefix:"select",placeholder:"Select location...",onChange:function(e){return t.handleChange(e)}}))}}]),t}(l.a.Component),I=a(78),K=new v,W=function(e){function t(e){var a;Object(s.a)(this,t),a=Object(o.a)(this,Object(u.a)(t).call(this,e));var n=I.map(function(e,t){return{label:e.name,value:t,type:e.type}});return a.state={filterType:0,values:[],filterOptions:n,keyterms:n},a}return Object(p.a)(t,e),Object(i.a)(t,[{key:"handleChange",value:function(e){var t=e.map(function(e){return e.value});this.setState({values:t}),this.props.updateKeyterm({keyterms:t})}},{key:"changeType",value:function(e,t){this.setState({filterType:e.value}),0==e.value?this.setState({filterOptions:this.state.keyterms}):this.setState({filterOptions:this.state.keyterms.filter(function(a){return a.type===t[e.value].type})})}},{key:"render",value:function(){var e,t=this;K.getKeyTerms("general",function(t,a){if(t)if(t.response){var n=t.response.data.message;console.log(n,"ppp")}else console.log(t.message,"ppp");e=a,console.log(e,"general key term in keyterm search tsx")}),K.getKeyTerms("specific",function(t,a){if(t)if(t.response){var n=t.response.data.message;console.log(n,"ppp")}else console.log(t.message,"ppp");e=a,console.log(e,"specific key term in keyterm search tsx")});var a=[{label:"All",value:0,type:"all"},{label:"General",value:1,type:"general"},{label:"Specific",value:2,type:"specific"}];return l.a.createElement("div",{className:"Filter-element"},l.a.createElement("b",null,"Keyterms"),l.a.createElement("div",{className:"Keyterm-flex"},l.a.createElement("div",{className:"Keyterm-left"},l.a.createElement(R.a,{value:a.filter(function(e){return e.value==t.state.filterType}),options:a,onChange:function(e){return t.changeType(e,a)}})),l.a.createElement("div",{className:"Keyterm-right"},l.a.createElement(R.a,{isMulti:!0,options:this.state.filterOptions,className:"basic-multi-select",classNamePrefix:"select",placeholder:"Select keyterms...",onChange:function(e){return t.handleChange(e)}}))))}}]),t}(l.a.Component),B=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(o.a)(this,Object(u.a)(t).call(this,e))).state={title:"",keyterms:[],locations:[],startDate:null,endDate:null,advancedFilter:!1},a.handleChange=a.handleChange.bind(Object(O.a)(Object(O.a)(a))),a}return Object(p.a)(t,e),Object(i.a)(t,[{key:"handleChange",value:function(e){this.setState(e),console.log(e)}},{key:"render",value:function(){var e=this;return l.a.createElement("div",{className:"Main"},l.a.createElement("h1",null,"SEARCH"),l.a.createElement("div",null,l.a.createElement(C,{updateTitle:this.handleChange})),l.a.createElement(j.a,{onClick:function(){return e.handleChange({advancedFilter:!e.state.advancedFilter})},"aria-controls":"collapse-filters","aria-expanded":this.state.advancedFilter,variant:"secondary",size:"sm",block:!0},"Advanced Filters"),l.a.createElement(x.a,{in:this.state.advancedFilter},l.a.createElement("div",{id:"collapse-filters",className:"Filter-panel"},l.a.createElement(W,{updateKeyterm:this.handleChange}),l.a.createElement(U,{updateLocation:this.handleChange}),l.a.createElement(w,{updateTime:this.handleChange}),l.a.createElement("div",{className:"Filter-button"},l.a.createElement(j.a,null,"Advanced Search")))),l.a.createElement("div",{className:"ArticleList-division"}),l.a.createElement(F,null))}}]),t}(l.a.Component),V=a(133),H=function(e){function t(e){return Object(s.a)(this,t),Object(o.a)(this,Object(u.a)(t).call(this,e))}return Object(p.a)(t,e),Object(i.a)(t,[{key:"LocationCheck",value:function(e){return Object(N.isNullOrUndefined)(e["geonames-id"])?l.a.createElement("p",null,l.a.createElement("b",null,"Location:")," ",e.location,", ",e.country):l.a.createElement("p",null,l.a.createElement("b",null,"Location:")," ",e["geonames-id"])}},{key:"render",value:function(){return l.a.createElement("div",null,l.a.createElement("p",null,l.a.createElement("b",null,"Type: "),l.a.createElement(V.a,{className:"Badge-division",variant:"secondary"},this.props.type)),l.a.createElement("p",null,l.a.createElement("b",null,"Date:")," ",this.props.date),this.LocationCheck(this.props.location),l.a.createElement("p",null,l.a.createElement("b",null,"Number Affected:")," ",this.props["number-affected"]))}}]),t}(l.a.Component),G=function(e){function t(e){return Object(s.a)(this,t),Object(o.a)(this,Object(u.a)(t).call(this,e))}return Object(p.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return l.a.createElement("div",null,l.a.createElement("p",null,l.a.createElement("b",null,"Event Reports:")),this.props.reports.map(function(e){return l.a.createElement("div",{className:"EventReport-division"},l.a.createElement(T.a,null,l.a.createElement(T.a.Body,{className:"EventReport-card"},l.a.createElement(H,e))))}))}}]),t}(l.a.Component),z=function(e){function t(e){return Object(s.a)(this,t),Object(o.a)(this,Object(u.a)(t).call(this,e))}return Object(p.a)(t,e),Object(i.a)(t,[{key:"ListCheck",value:function(e,t){var a=null;return Object(N.isNull)(e)||0==e.length||(a=e.map(function(e){return l.a.createElement(V.a,{className:"Badge-division",variant:"secondary"},e)}),a=l.a.createElement("p",null,l.a.createElement("b",null,t,":")," ",a)),a}},{key:"CommentCheck",value:function(e){return Object(N.isNull)(e)?null:l.a.createElement("p",null,l.a.createElement("b",null,"Comments:")," ",e)}},{key:"render",value:function(){var e=0!=this.props.reported_events.length?l.a.createElement(G,{reports:this.props.reported_events}):null;return l.a.createElement("div",null,this.ListCheck(this.props.disease,"Disease"),this.ListCheck(this.props.syndrome,"Syndrome"),e,this.CommentCheck(this.props.comment))}}]),t}(l.a.Component),J=new v,q=function(e){function t(e){var a;return Object(s.a)(this,t),a=Object(o.a)(this,Object(u.a)(t).call(this,e)),console.log(a.props.reports),a}return Object(p.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e;return J.getAllReports(function(t,a){if(t)if(t.response){var n=t.response.data.message;console.log(n,"ppp")}else console.log(t.message,"ppp");e=a,console.log(e,"reports in app tsx")}),l.a.createElement("div",{className:"ReportList-division"},l.a.createElement("h3",null,"Reports"),l.a.createElement(S.a,null,this.props.reports.map(function(e){return l.a.createElement(S.a.Item,null,l.a.createElement(z,e))})))}}]),t}(l.a.Component),Q=function(e){function t(e){return Object(s.a)(this,t),Object(o.a)(this,Object(u.a)(t).call(this,e))}return Object(p.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return l.a.createElement("div",{className:"Main"},l.a.createElement("h1",null,this.props.headline),l.a.createElement("p",null,l.a.createElement("i",null,"URL: ",l.a.createElement("a",{href:this.props.url},this.props.url))),l.a.createElement("p",null,l.a.createElement("i",null,"DOP: ",this.props.date_of_publication)),l.a.createElement("p",null,this.props.main_text),l.a.createElement(q,{reports:this.props.reports}))}}]),t}(l.a.Component);Q.defaultProps={url:L.url,date_of_publication:L.date_of_publication,headline:L.headline,main_text:L.main_text,reports:L.reports};new v;var X=function(e){function t(e){return Object(s.a)(this,t),Object(o.a)(this,Object(u.a)(t).call(this,e))}return Object(p.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return l.a.createElement("main",null,l.a.createElement(m.a,null,l.a.createElement(h.c,null,l.a.createElement(h.a,{exact:!0,path:"/",component:E}),l.a.createElement(h.a,{path:"/search",component:B}),l.a.createElement(h.a,{path:"/article",component:Q}))))}}]),t}(n.Component);a(129),a(130);c.a.render(l.a.createElement(X,null),document.getElementById("root"))},16:function(e,t,a){},26:function(e){e.exports={url:"www.who.int/lalala",date_of_publication:"2018-12-12Txx:xx:xx",headline:"Outbreaks in Southern Vietnam",main_text:"Three people infected by what is thought to be H5N1 or H7N9 in Ho Chi Minh city. First infection occurred on 1 Dec 2018, and latest is report on 10 December. Two in hospital, one has recovered. Furthermore, two people with fever and rash infected by an unknown disease.",reports:[{disease:["influenza a/h5n1","influenza a/h7n9"],syndrome:[],reported_events:[{type:"recovered",date:"2018-12-01Txx:xx:xx to 2018-12-10Txx:xx:xx",location:{"geonames-id":1566083},"number-affected":1},{type:"hospitalised",date:"2018-12-01Txx:xx:xx to 2018-12-10Txx:xx:xx",location:{"geonames-id":1566083},"number-affected":2}],comment:null},{disease:["unknown"],syndrome:["Acute fever and rash"],reported_events:[{type:"infected",date:"2018-12-01Txx:xx:xx to 2018-12-10Txx:xx:xx",location:{"geonames-id":1566083},"number-affected":2}],comment:null}]}},65:function(e,t,a){e.exports=a.p+"media/logo.bf63f469.png"},74:function(e){e.exports=[{country:"Australia",state:"New South Wales",city:"Central Coast"},{country:"Australia",state:"New South Wales",city:"Newcastle"},{country:"Australia",state:"New South Wales",city:"Albury"},{country:"Australia",state:"New South Wales",city:"Wagga Wagga"},{country:"Australia",state:"New South Wales",city:"Sydney"},{country:"Australia",state:"New South Wales",city:"Maitland"},{country:"Australia",state:"New South Wales",city:"Wollongong"},{country:"Australia",state:"Victoria",city:"Geelong"},{country:"Australia",state:"Victoria",city:"Ballarat"},{country:"Australia",state:"Victoria",city:"Melbourne"},{country:"Australia",state:"Victoria",city:"Gendigo"}]},78:function(e){e.exports=[{type:"general",category:"none",name:"Outbreak"},{type:"general",category:"none",name:"Infection"},{type:"general",category:"none",name:"Fever"},{type:"general",category:"none",name:"Virus"},{type:"general",category:"none",name:"Epidemic"},{type:"general",category:"none",name:"Infectious"},{type:"general",category:"none",name:"Illness"},{type:"general",category:"none",name:"Bacteria"},{type:"general",category:"none",name:"Emerging"},{type:"general",category:"none",name:"Unknown virus"},{type:"general",category:"none",name:"Myster(ious)y disease"},{type:"specific",category:"none",name:"MERS"},{type:"specific",category:"none",name:"Salmonella"},{type:"specific",category:"none",name:"Legionnaire"},{type:"specific",category:"none",name:"Measles"},{type:"specific",category:"A Agents",name:"Anthrax"},{type:"specific",category:"A Agents",name:"Botulism"},{type:"specific",category:"A Agents",name:"Plague"},{type:"specific",category:"A Agents",name:"Smallpox and other related pox viruses"},{type:"specific",category:"A Agents",name:"Tularemia"},{type:"specific",category:"A Agents",name:"Junin Fever"},{type:"specific",category:"A Agents",name:"Machupo Fever"},{type:"specific",category:"A Agents",name:"Guanarito Fever"},{type:"specific",category:"A Agents",name:"Chapare Fever"},{type:"specific",category:"A Agents",name:"Lassa Fever"},{type:"specific",category:"A Agents",name:"Lujo Fever"},{type:"specific",category:"A Agents",name:"Hantavirus"},{type:"specific",category:"A Agents",name:"Rift Valley Fever"},{type:"specific",category:"A Agents",name:"Crimean Congo Hemorrhagic Fever"},{type:"specific",category:"A Agents",name:"Dengue"},{type:"specific",category:"A Agents",name:"Ebola"},{type:"specific",category:"A Agents",name:"Marburg"}]},81:function(e,t,a){e.exports=a(131)},86:function(e,t,a){}},[[81,1,2]]]);
//# sourceMappingURL=main.bf344222.chunk.js.map